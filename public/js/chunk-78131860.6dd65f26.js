(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78131860","chunk-78131860"],{"140a":function(t,i,e){(function(){function i(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function e(t,i){return t.x*i.x+t.y*i.y}function s(t,s){var n=i(t)*i(s);if(0===n)return 0;var o=e(t,s)/n;return o>1&&(o=1),Math.acos(o)}function n(t,i){return t.x*i.y-i.x*t.y}function o(t,i){var e=s(t,i);return n(t,i)>0&&(e*=-1),180*e/Math.PI}var h=function(t){this.handlers=[],this.el=t};function l(t,i){var e=new h(t);return e.add(i),e}h.prototype.add=function(t){this.handlers.push(t)},h.prototype.del=function(t){t||(this.handlers=[]);for(var i=this.handlers.length;i>=0;i--)this.handlers[i]===t&&this.handlers.splice(i,1)},h.prototype.dispatch=function(){for(var t=0,i=this.handlers.length;t<i;t++){var e=this.handlers[t];"function"===typeof e&&e.apply(this.el,arguments)}};var a=function(t,i){this.element="string"==typeof t?document.querySelector(t):t,this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.cancel=this.cancel.bind(this),this.element.addEventListener("touchstart",this.start,!1),this.element.addEventListener("touchmove",this.move,!1),this.element.addEventListener("touchend",this.end,!1),this.element.addEventListener("touchcancel",this.cancel,!1),this.preV={x:null,y:null},this.pinchStartLen=null,this.zoom=1,this.isDoubleTap=!1;var e=function(){};this.rotate=l(this.element,i.rotate||e),this.touchStart=l(this.element,i.touchStart||e),this.multipointStart=l(this.element,i.multipointStart||e),this.multipointEnd=l(this.element,i.multipointEnd||e),this.pinch=l(this.element,i.pinch||e),this.swipe=l(this.element,i.swipe||e),this.tap=l(this.element,i.tap||e),this.doubleTap=l(this.element,i.doubleTap||e),this.longTap=l(this.element,i.longTap||e),this.singleTap=l(this.element,i.singleTap||e),this.pressMove=l(this.element,i.pressMove||e),this.twoFingerPressMove=l(this.element,i.twoFingerPressMove||e),this.touchMove=l(this.element,i.touchMove||e),this.touchEnd=l(this.element,i.touchEnd||e),this.touchCancel=l(this.element,i.touchCancel||e),this._cancelAllHandler=this.cancelAll.bind(this),window.addEventListener("scroll",this._cancelAllHandler),this.delta=null,this.last=null,this.now=null,this.tapTimeout=null,this.singleTapTimeout=null,this.longTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null}};a.prototype={start:function(t){if(t.touches){this.now=Date.now(),this.x1=t.touches[0].pageX,this.y1=t.touches[0].pageY,this.delta=this.now-(this.last||this.now),this.touchStart.dispatch(t,this.element),null!==this.preTapPosition.x&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30,this.isDoubleTap&&clearTimeout(this.singleTapTimeout)),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var e=this.preV,s=t.touches.length;if(s>1){this._cancelLongTap(),this._cancelSingleTap();var n={x:t.touches[1].pageX-this.x1,y:t.touches[1].pageY-this.y1};e.x=n.x,e.y=n.y,this.pinchStartLen=i(e),this.multipointStart.dispatch(t,this.element)}this._preventTap=!1,this.longTapTimeout=setTimeout(function(){this.longTap.dispatch(t,this.element),this._preventTap=!0}.bind(this),750)}},move:function(t){if(t.touches){var e=this.preV,s=t.touches.length,n=t.touches[0].pageX,h=t.touches[0].pageY;if(this.isDoubleTap=!1,s>1){var l=t.touches[1].pageX,a=t.touches[1].pageY,c={x:t.touches[1].pageX-n,y:t.touches[1].pageY-h};null!==e.x&&(this.pinchStartLen>0&&(t.zoom=i(c)/this.pinchStartLen,this.pinch.dispatch(t,this.element)),t.angle=o(c,e),this.rotate.dispatch(t,this.element)),e.x=c.x,e.y=c.y,null!==this.x2&&null!==this.sx2?(t.deltaX=(n-this.x2+l-this.sx2)/2,t.deltaY=(h-this.y2+a-this.sy2)/2):(t.deltaX=0,t.deltaY=0),this.twoFingerPressMove.dispatch(t,this.element),this.sx2=l,this.sy2=a}else{if(null!==this.x2){t.deltaX=n-this.x2,t.deltaY=h-this.y2;var r=Math.abs(this.x1-this.x2),d=Math.abs(this.y1-this.y2);(r>10||d>10)&&(this._preventTap=!0)}else t.deltaX=0,t.deltaY=0;this.pressMove.dispatch(t,this.element)}this.touchMove.dispatch(t,this.element),this._cancelLongTap(),this.x2=n,this.y2=h,s>1&&t.preventDefault()}},end:function(t){if(t.changedTouches){this._cancelLongTap();var i=this;t.touches.length<2&&(this.multipointEnd.dispatch(t,this.element),this.sx2=this.sy2=null),this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.y1-this.y2)>30?(t.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout((function(){i.swipe.dispatch(t,i.element)}),0)):(this.tapTimeout=setTimeout((function(){i._preventTap||i.tap.dispatch(t,i.element),i.isDoubleTap&&(i.doubleTap.dispatch(t,i.element),i.isDoubleTap=!1)}),0),i.isDoubleTap||(i.singleTapTimeout=setTimeout((function(){i.singleTap.dispatch(t,i.element)}),250))),this.touchEnd.dispatch(t,this.element),this.preV.x=0,this.preV.y=0,this.zoom=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null}},cancelAll:function(){this._preventTap=!0,clearTimeout(this.singleTapTimeout),clearTimeout(this.tapTimeout),clearTimeout(this.longTapTimeout),clearTimeout(this.swipeTimeout)},cancel:function(t){this.cancelAll(),this.touchCancel.dispatch(t,this.element)},_cancelLongTap:function(){clearTimeout(this.longTapTimeout)},_cancelSingleTap:function(){clearTimeout(this.singleTapTimeout)},_swipeDirection:function(t,i,e,s){return Math.abs(t-i)>=Math.abs(e-s)?t-i>0?"Left":"Right":e-s>0?"Up":"Down"},on:function(t,i){this[t]&&this[t].add(i)},off:function(t,i){this[t]&&this[t].del(i)},destroy:function(){return this.singleTapTimeout&&clearTimeout(this.singleTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.swipeTimeout&&clearTimeout(this.swipeTimeout),this.element.removeEventListener("touchstart",this.start),this.element.removeEventListener("touchmove",this.move),this.element.removeEventListener("touchend",this.end),this.element.removeEventListener("touchcancel",this.cancel),this.rotate.del(),this.touchStart.del(),this.multipointStart.del(),this.multipointEnd.del(),this.pinch.del(),this.swipe.del(),this.tap.del(),this.doubleTap.del(),this.longTap.del(),this.singleTap.del(),this.pressMove.del(),this.twoFingerPressMove.del(),this.touchMove.del(),this.touchEnd.del(),this.touchCancel.del(),this.preV=this.pinchStartLen=this.zoom=this.isDoubleTap=this.delta=this.last=this.now=this.tapTimeout=this.singleTapTimeout=this.longTapTimeout=this.swipeTimeout=this.x1=this.x2=this.y1=this.y2=this.preTapPosition=this.rotate=this.touchStart=this.multipointStart=this.multipointEnd=this.pinch=this.swipe=this.tap=this.doubleTap=this.longTap=this.singleTap=this.pressMove=this.touchMove=this.touchEnd=this.touchCancel=this.twoFingerPressMove=null,window.removeEventListener("scroll",this._cancelAllHandler),null}},t.exports=a})()},"8cdc":function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.doc?e("div",{key:t.doc.id,ref:t.doc.id,class:"content-slider max-w-screen overflow-x-hidden h-full flex flex-no-wrap block "+t.classe(t.doc.css),style:t.doc.style+" "+t.background(t.doc),attrs:{id:t.doc&&t.doc.hasOwnProperty("anchor")?t.doc.anchor:t.doc.id}},[t._l(t.doc.blocks,(function(i,s){return[i&&i.hasOwnProperty("blocks")&&!i.hasOwnProperty("menu")?e("moka-preview-container",{key:i.id,class:"slider_"+t.doc.id+" slide flex-none top-0 left-0 right-0 bottom-0 w-full slide_"+s,attrs:{doc:i,current:t.current},on:{action:t.hasSlideAction}}):t._e()]})),t.doc.controls.dots.enable?e("div",{staticClass:"md:absolute bottom-0 left-0 text-center flex-row justify-center items-center p-1 w-full"},t._l(t.doc.blocks.length,(function(i){return e("i",{key:"dot-"+t.doc.id+i,class:"material-icons mr-2 "+t.dotActive(i),on:{click:function(e){return t.goTo(i-1)}}},[t._v("fiber_manual_record")])})),0):t._e(),t.doc.controls.navigation.enable?e("div",[t.index>0?e("div",{class:"absolute top-0 left-0 h-full flex justify-center p-1 "+t.over+t.position,on:{click:function(i){return t.goTo(t.index-1)}}},[e("i",{class:"slider-navigation-icon material-icons text-4xl "+t.doc.controls.navigation.css},[t._v(t._s(t.doc.controls.navigation.icons[0]))])]):t._e(),t.index<t.doc.blocks.length-1?e("div",{class:"absolute top-0 right-0 h-full flex justify-center p-1 "+t.over+t.position,on:{click:function(i){return t.goTo(t.index+1)}}},[e("i",{class:"slider-navigation-icon material-icons text-4xl "+t.doc.controls.navigation.css},[t._v(t._s(t.doc.controls.navigation.icons[1]))])]):t._e()]):t._e(),t.doc.controls.buttons?e("div",{class:"slider-buttons absolute left-0 text-center hidden md:flex md:flex-row border-b justify-left items-center my-2 w-full "+t.doc.controls.buttons_position},[t._l(t.doc.blocks,(function(i,s){return[e("button",{key:"btn_"+t.doc.id+s,class:"mx-0 capitalize "+t.buttonsClass,on:{click:function(i){return t.goTo(s)}}},[t._v(t._s(i.name||"slide"+(s+1)))])]}))],2):t._e()],2):t._e()},n=[],o=e("5530"),h=e("dccf"),l=e("95c9"),a=e("2f62"),c=e("cffa"),r=e("1dac"),d=e("140a"),u=e.n(d);c["a"].registerPlugin(r["a"]);r["a"];var p={name:"MokaSlider",data:function(){return{index:-1,timer:null,current:null}},components:{MokaElement:h["default"],MokaPreviewContainer:l["default"]},props:["doc"],computed:Object(o["a"])(Object(o["a"])({},Object(a["b"])(["moka"])),{},{animations:function(){return gsapEffects},slides:function(){return this.doc.blocks.length},over:function(){return this.doc.controls.navigation.hover?"opacity-0 hover:opacity-100":""},position:function(){return this.doc.controls.navigation.hasOwnProperty("position")&&this.doc.controls.navigation.position?" "+this.doc.controls.navigation.position:" items-center"},buttonsClass:function(){var t=this.doc.controls.buttons_css?" "+this.doc.controls.buttons_css:"";return t+=this.doc.controls.buttons_text?" "+this.doc.controls.buttons_text:"",t}}),methods:{dotActive:function(t){var i=this.doc.controls.dots.css?this.doc.controls.dots.css:"text-black";return t-1===this.index?i+" animate-ping":i+" rounded-full"},goTo:function(t){if(!(t<0)&&!(t>this.doc.blocks.length-1)){this.index=t;var i=c["a"].timeline();document.querySelector(".slider_"+this.doc.id)&&(console.log(this.doc.blocks[this.index].style),i.to(".slider_"+this.doc.id,{opacity:0,duration:.4}),i.to(".slider_"+this.doc.id,{xPercent:100*-this.index,opacity:.5,duration:.5}),i.to(".slider_"+this.doc.id,{opacity:1,duration:.5}))}},playslides:function(t){console.log("playing each "+t+" secs");var i=this;this.timer=window.setInterval((function(){i.next(1)}),1e3*parseInt(t))},hasSlideAction:function(t){"slider_next"===t?this.next(1):"slider_prev"===t&&this.next(-1)},next:function(t){this.index<this.doc.blocks.length+t?this.index+=t:this.index=0,this.index<0&&(this.index=0),this.index>=this.doc.blocks.length&&(this.index=0);var i=c["a"].timeline();document.querySelector(".slider_"+this.doc.id)&&(0===this.index&&this.doc.controls.delay&&i.to(".slider_"+this.doc.id,{xPercent:50,opacity:1,duration:0}),i.to(".slider_"+this.doc.id,{xPercent:100*-this.index,opacity:1,duration:1.5}),this.index===this.doc.blocks.length-1&&this.doc.controls.delay&&i.to(".slider_"+this.doc.id,{xPercent:100*-this.index,opacity:1,duration:.3}))},classe:function(t){if(t)return t.hasOwnProperty("css")?t.css+" "+t.container:t},stile:function(t,i){if(t&&i){var e="";return t.hasOwnProperty("fontFamily")&&(e+='font-family:"'+t.fontFamily+'"; '),t.hasOwnProperty("style")?t.style+e:e}},background:function(t){if(t)return t.hasOwnProperty("image")&&t.image&&t.image.url?" background-image:url("+this.$imageURL(t.image)+");":""},animate:function(t,i){if(t){if(this.$refs&&t.hasOwnProperty("gsap")&&t.gsap.animation){var e=c["a"].effects[t.gsap.animation](this.$refs[i],{trigger:this.$refs[i],duration:parseFloat(t.gsap.duration),delay:parseFloat(t.gsap.delay),ease:t.gsap.ease});r["a"].create({id:i,start:"top 99%",trigger:this.$refs[i],toggleActions:"play pause restart none",animation:e,onEnter:function(){t.gsap.delay?e.play():e.play(0)}})}}}},mounted:function(){var t=this;if(this.doc.blocks.length){this.next(),parseInt(this.doc.controls.delay)>0&&this.playslides(this.doc.controls.delay),console.log("loaded");var i=this.$refs[this.doc.id];if(console.log(i),i)new u.a(i,{swipe:function(i){"Left"===i.direction&&(t.index+1<t.doc.blocks.length?t.goTo(t.index+1):t.goTo(0)),"Right"===i.direction&&(t.index>0?t.goTo(t.index-1):t.goTo(t.doc.blocks.length-1))},doubleTap:function(i){t.index+1<t.doc.blocks.length?t.goTo(t.index+1):t.goTo(0)}})}},beforeDestroy:function(){clearInterval(this.timer),this.timer=null}},m=p,f=(e("c1b6"),e("2877")),g=Object(f["a"])(m,s,n,!1,null,null,null);i["default"]=g.exports},b68f:function(t,i,e){},c1b6:function(t,i,e){"use strict";e("b68f")}}]);