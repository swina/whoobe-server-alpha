(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2223a4"],{ce5a:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.menu?s("div",{staticClass:"w-full z-max bg-gray-100 text-black overflow-y-auto h-full mb-2 shadow"},[s("div",{staticClass:"flex flex-col items-center cursor-pointer p-1 my-1"},[s("div",{staticClass:"flex flex-row items-center"},[s("span",{staticClass:"font-bold",on:{click:function(t){e.showItems=!e.showItems}}},[e._v("Menu Items")]),s("button",{staticClass:"xs ml-2",on:{click:e.addItem}},[e._v("Add")]),s("i",{staticClass:"material-icons nuxpresso-icon-circle text-xs ml-2 mr-4",on:{click:e.addItem}},[e._v("add")])])]),s("transition",{attrs:{name:"fade"}},[s("div",{staticClass:"absolute bg-gray-200 text-gray-800 overflow-y-auto h-full w-full p-1"},[s("draggable",{staticClass:"relative",model:{value:e.items,callback:function(t){e.items=t},expression:"items"}},e._l(e.items,(function(t,n){return e.showItems?s("div",{staticClass:"flex flex-col text-sm cursor-pointer pb-1"},[s("div",{staticClass:"bg-gray-600 text-white p-1 flex flex-col",on:{click:function(t){e.currentIndex<0||e.currentIndex!=n?e.currentIndex=n:e.currentIndex=-1}}},[e._v(e._s(t.label))]),s("transition",[e.currentIndex===n?s("div",{staticClass:"relative bg-gray-200 p-1 flex flex-col mb-1"},[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.items[n].label,expression:"items[i].label"}],attrs:{type:"text"},domProps:{value:e.items[n].label},on:{focus:function(t){e.currentFocus=n},input:function(t){t.target.composing||e.$set(e.items[n],"label",t.target.value)}}}),s("a",{staticClass:"mx-1",attrs:{href:"#"},on:{click:function(t){e.setIcon=!e.setIcon,e.currentFocus=n}}},[e._v("Icon")]),e.items[n].hasOwnProperty("icon")&&e.items[n].icon?s("i",{class:"text-lg bi-"+e.items[n].icon,on:{click:function(t){e.setIcon=!e.setIcon,e.currentFocus=n}}}):e._e()]),e.currentFocus===n&&e.setIcon?s("div",{staticClass:"bg-white shadow fixed z-2xtop w-64 h-64 mb-2 border p-1",staticStyle:{"margin-left":"20vw"}},[s("block-customize-icon",{attrs:{tag:"icon_bt"},on:{input:function(t){e.setIcon=!e.setIcon},close:function(t){e.setIcon=!e.setIcon}},model:{value:e.items[n].icon,callback:function(t){e.$set(e.items[n],"icon",t)},expression:"items[i].icon"}})],1):e._e(),e.currentFocus===n?s("div",{staticClass:"flex flex-col"},[s("label",[e._v("URL")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.items[n].link,expression:"items[i].link"}],attrs:{type:"text"},domProps:{value:e.items[n].link},on:{focus:function(t){e.currentFocus=n},input:function(t){t.target.composing||e.$set(e.items[n],"link",t.target.value)}}}),s("label",[e._v("Page")]),s("div",{staticClass:"flex flex-row items-center"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.items[n].link,expression:"items[i].link"}],on:{focus:function(t){e.currentFocus=n},change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.items[n],"link",t.target.multiple?s:s[0])}}},e._l(e.$datastore("articles"),(function(t,n){return s("option",{domProps:{value:"/"+t.slug}},[e._v(e._s(t.title))])})),0),s("i",{staticClass:"material-icons",on:{click:function(t){return e.refresh()}}},[e._v("refresh")])])]):e._e(),s("a",{staticClass:"text-xs",attrs:{href:"#"},on:{click:function(t){return e.items.splice(n,1)}}},[e._v("Remove")]),s("a",{staticClass:"text-xs",attrs:{href:"#"},on:{click:function(t){return e.addSubMenu(n)}}},[e._v("Add Submenu")])]):e._e(),s("draggable",{model:{value:t.submenu,callback:function(s){e.$set(t,"submenu",s)},expression:"item.submenu"}},e._l(t.submenu,(function(i,a){return t.submenu&&e.currentIndex===n?s("div",[s("div",{staticClass:"ml-2 border p-1 bg-gray-600 text-white mb-1",on:{click:function(t){e.subIndex<0||e.subIndex!=a?e.subIndex=a:e.subIndex=-1}}},[e._v(" "+e._s(i.label)+" ")]),s("transition",{attrs:{name:"fade"}},[e.subIndex===a?s("div",{staticClass:"ml-3 mr-1 flex flex-col mb-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.items[n].submenu[a].label,expression:"items[i].submenu[s].label"}],attrs:{type:"text"},domProps:{value:e.items[n].submenu[a].label},on:{input:[function(t){t.target.composing||e.$set(e.items[n].submenu[a],"label",t.target.value)},function(t){e.subIndex=-1,e.subIndex=a}]}}),s("div",{staticClass:"flex flex-col"},[s("label",[e._v("URL")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.items[n].submenu[a].link,expression:"items[i].submenu[s].link"}],attrs:{type:"text"},domProps:{value:e.items[n].submenu[a].link},on:{input:function(t){t.target.composing||e.$set(e.items[n].submenu[a],"link",t.target.value)}}}),s("label",[e._v("Page")]),s("div",{staticClass:"flex flex-row items-center"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.items[n].submenu[a].link,expression:"items[i].submenu[s].link"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.items[n].submenu[a],"link",t.target.multiple?s:s[0])}}},e._l(e.$datastore("articles"),(function(t,n){return s("option",{domProps:{value:"/"+t.slug}},[e._v(e._s(t.title))])})),0),s("i",{staticClass:"material-icons",on:{click:function(t){return e.refresh()}}},[e._v("refresh")])])]),s("a",{staticClass:"text-xs",attrs:{href:"#"},on:{click:function(t){e.items[e.currentIndex].submenu.splice(a,1),e.subIndex=-1,e.subIndex=a}}},[e._v("Remove")])]):e._e()])],1):e._e()})),0)],1)],1):e._e()})),0),s("div",{staticClass:"flex flex-col"},[s("div",{staticClass:"text-sm"},[e._v(" Submenu CSS "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.menu.css.submenu,expression:"menu.css.submenu"}],staticClass:" w-full",domProps:{value:e.menu.css.submenu},on:{input:function(t){t.target.composing||e.$set(e.menu.css,"submenu",t.target.value)}}})])]),s("div",{staticClass:"flex flex-col"},[s("div",{staticClass:"flex flex-row"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.menu.responsive,expression:"menu.responsive"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.menu.responsive)?e._i(e.menu.responsive,null)>-1:e.menu.responsive},on:{change:function(t){var s=e.menu.responsive,n=t.target,i=!!n.checked;if(Array.isArray(s)){var a=null,l=e._i(s,a);n.checked?l<0&&e.$set(e.menu,"responsive",s.concat([a])):l>-1&&e.$set(e.menu,"responsive",s.slice(0,l).concat(s.slice(l+1)))}else e.$set(e.menu,"responsive",i)}}}),e._v(" Responsive ")]),e.menu.responsive?s("div",{staticClass:"text-sm"},[e._v(" CSS Responsive "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.menu.css.responsive,expression:"menu.css.responsive"}],staticClass:" w-full",domProps:{value:e.menu.css.responsive},on:{input:function(t){t.target.composing||e.$set(e.menu.css,"responsive",t.target.value)}}})]):e._e(),s("span",{staticClass:"text-xs"},[e._v("Max 1 responsive menu x page")])]),s("div",{staticClass:"flex flex-col mt-2"},[e._v(" Orientation "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.menu.type,expression:"menu.type"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.menu,"type",t.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"horizontal"}},[e._v("Horizontal")]),s("option",{attrs:{value:"vertical"}},[e._v("Vertical")])])]),s("div",{staticClass:"flex flex-col mt-2"},[e._v(" Position "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.menu.css.align,expression:"menu.css.align"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.menu.css,"align",t.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"justify-start"}},[e._v("left")]),s("option",{attrs:{value:"justify-center"}},[e._v("center")]),s("option",{attrs:{value:"justify-end"}},[e._v("right")])])])],1)])],1):e._e()},i=[],a=s("5530"),l=(s("d3b7"),s("3ca3"),s("ddb0"),s("7db0"),s("b76a")),u=s.n(l),o=s("2f62"),r={name:"BlockMenuEditor",components:{draggable:u.a,"block-customize-icon":function(){return Promise.all([s.e("chunk-944fc728"),s.e("chunk-2d22bef3")]).then(s.bind(null,"f0a4"))}},data:function(){return{currentIndex:-1,currentFocus:-1,subIndex:-1,showItems:!0,setIcon:!1,items:[],menuAlign:""}},props:["menu"],computed:Object(a["a"])({},Object(o["b"])(["moka"])),mounted:function(){this.menu=this.menu&&this.menu.items?this.items=this.menu.items:this.addItem(),!this.menu.css.submenu&&(this.menu.css.submenu=this.menu.css.css+" w-64 p-4 shadow-xl"),this.menu.responsive&&(!this.menu.css.responsive&&(this.menu.css.responsive="fixed top-0 left-0 h-screen p-2 z-2xtop"))},watch:{items:function(e){this.$emit("menu",this.items)}},methods:{addItem:function(){this.items.push({label:"new item",link:"#",title:"",id:this.$randomID()})},addSubMenu:function(e){!this.items[e].submenu&&(this.items[e].submenu=[]),this.items[e].submenu.push({label:"submenu item #"+parseInt(this.items[e].submenu.length+1),link:"#",id:this.$randomID()}),this.currentIndex=-1,this.currentIndex=e},setAlign:function(){},refresh:function(){var e=this;this.$api.service("articles").find({query:{$select:["_id","title","slug"]}}).then((function(t){e.$store.dispatch("dataset",{table:"articles",data:t.data})}))}}},c=r,m=s("2877"),v=Object(m["a"])(c,n,i,!1,null,null,null);t["default"]=v.exports}}]);