(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d0b4a"],{"68b4":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{},[s("div",{staticClass:"w-full text-gray-200 text-2xl py-2 px-2 bg-gray-700"},[t._v(" Categories ")]),s("div",{staticClass:"p-4 flex flex-col"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.current,expression:"current"}],staticClass:"w-64",attrs:{size:"10"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.current=e.target.multiple?s:s[0]}}},t._l(t.datastore.dataset.setup[0].categories.components,(function(e,a){return s("option",{key:e,staticClass:"py-1",domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),0),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.current,expression:"current"}],attrs:{type:"text",title:"Input to set a new category"},domProps:{value:t.current},on:{input:function(e){e.target.composing||(t.current=e.target.value)}}}),t.current?s("button",{staticClass:"mx-2",on:{click:t.save}},[t._v("Update")]):t._e(),t.current&&!t.categories.includes(t.current)?s("button",{on:{click:t.add}},[t._v("Add")]):t._e(),t.current&&t.categories.includes(t.current)?s("button",{staticClass:"danger mx-2",on:{click:t.remove}},[t._v("Delete")]):t._e()])])])},n=[],i=s("5530"),r=(s("caad"),s("2532"),s("a434"),s("2f62")),o={name:"MokaCategoriesSettings",data:function(){return{index:null,current:null,categories:null}},computed:Object(i["a"])({},Object(r["b"])(["datastore"])),mounted:function(){this.categories=this.$datastore("setup").categories.components.sort()},watch:{current:function(t){t&&this.categories.includes(t)&&(this.index=this.categories.indexOf(t))}},methods:{indx:function(t){console.log(t)},save:function(){if(this.$datastore("setup").categories.components.includes(this.current))this.$datastore("setup")},add:function(){var t=this;this.datastore.dataset.setup[0].categories.components.push(this.current),this.$api.service("setup").patch(this.datastore.dataset.setup[0]._id,this.datastore.dataset.setup[0]).then((function(e){console.log(e),t.$store.dispatch("dataset",{table:"setup",data:[e]})}))},remove:function(){var t=this;this.index=this.categories.indexOf(this.current),this.index>-1&&(this.current=null,this.datastore.dataset.setup[0].categories.components.splice(this.index,1),this.$api.service("setup").patch(this.datastore.dataset.setup[0]._id,this.datastore.dataset.setup[0]).then((function(e){t.$store.dispatch("dataset",{table:"setup",data:[e]})})))}}},c=o,u=s("2877"),d=Object(u["a"])(c,a,n,!1,null,null,null);e["default"]=d.exports}}]);