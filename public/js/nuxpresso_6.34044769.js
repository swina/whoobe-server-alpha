(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["nuxpresso_6"],{"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"2e4c":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.$attrs.apikey?i("div",{staticClass:"px-8 w-full"},[i("div",{staticClass:"flex flex-row items-center w-full mb-4 p-2 relative"},[i("img",{staticClass:"rounded bg-white p-2 w-32 opacity-50 mr-2",attrs:{src:"https://pixabay.com/static/img/logo.png"}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"mr-2",attrs:{type:"text",placeholder:"search"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),i("radio",{attrs:{options:e.options,classe:"text-gray-600"},on:{option:e.setOption}}),e.preview?e._e():[e.images&&e.page>1?i("icon",{staticClass:"text-5xl rounded-full ml-6 center-vertical left-0",attrs:{name:"chevron_left"},on:{click:function(t){e.page--,e.pixabayQry(e.search)}}}):e._e(),e.images?i("icon",{staticClass:"text-5xl rounded-full mr-1 center-vertical right-0",attrs:{name:"chevron_right"},on:{click:function(t){e.page++,e.pixabayQry(e.search)}}}):e._e(),i("icon",{staticClass:"absolute right-0 mr-4 text-3xl",attrs:{name:"close"},on:{click:function(t){return e.$emit("close")}}})]],2),e.images?i("div",{staticClass:"flex flex-row flex-wrap items-center justify-center mx-auto"},[e._l(e.images.hits,(function(t,a){return i("section",[i("div",{staticClass:"flex flex-col mb-2 mx-1",attrs:{title:"click to preview","data-tool-tip":t.downloads>1e3?"Downloads: "+parseInt(t.downloads/1e3)+"K":"Downloads "+t.downloads}},["video"!=e.type?i("img",{staticClass:"cursor-pointer object-cover w-48 h-32",attrs:{src:t.previewURL},on:{click:function(i){e.preview=t,e.index=a}}}):i("img",{staticClass:"cursor-pointer object-cover w-48 h-32",attrs:{src:"https://i.vimeocdn.com/video/"+t.picture_id+"_295x166.jpg"},on:{click:function(i){e.preview=t,e.index=a}}}),i("div",{staticClass:"text-xs text-gray-400 flex flex-row items-center"},[i("icon",{attrs:{name:"file_download"}}),e._v(" "+e._s(t.downloads>1e3?parseInt(t.downloads/1e3)+"K":t.downloads)+" "),i("icon",{staticClass:"ml-4",attrs:{name:"favorite"}}),e._v(" "+e._s(t.favorites)+" ")],1)])])})),i("navigation",{staticClass:"fixed bottom-0 left-0"})],2):e._e(),e.preview?i("modal-fullscreen",{attrs:{size:"full"},on:{close:function(t){e.preview=null}}},[i("div",{attrs:{slot:"title"},slot:"title"},[e._v("Preview "+e._s(e.index))]),i("div",{staticClass:"flex flex-col items-end justify-start relative transition-container duration-700 h-90",attrs:{slot:"content"},slot:"content"},["video"!=e.type?i("img",{staticClass:"w-10/12 h-4/5 object-contain mx-auto pixabay-preview",attrs:{src:e.preview.largeImageURL},on:{click:function(t){e.index<20?e.index++:e.index=0,e.preview=e.images.hits[e.index]}}}):e._e(),"video"===e.type?i("iframe",{staticClass:"h-4/5 mx-auto w-full inset-0 absolute",attrs:{src:e.preview.videos.medium.url}}):e._e(),e.preview?i("div",{staticClass:"fixed items-center flex flex-col justify-center w-full bottom-0 p-2 z-2xtop"},[i("div",{staticClass:"flex flex-row"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.preview.name,expression:"preview.name"}],staticClass:"w-64 mr-2",attrs:{type:"text",placeholder:"save as "},domProps:{value:e.preview.name},on:{input:function(t){t.target.composing||e.$set(e.preview,"name",t.target.value)}}}),i("button",{on:{click:e.downloadImage}},[e._v("Save")])]),e.preview?e._e():i("div",[e._v("Loading ...")]),i("div",[e._v(" "+e._s(e.filename)+" ")]),e._v(" Downloads: "+e._s(e.preview.downloads>1e3?parseInt(e.preview.downloads/1e3)+"K":e.preview.downloads)+" - Original "+e._s(e.preview.imageWidth)+" x "+e._s(e.preview.imageHeight)+"px"),i("br"),i("span",{staticClass:"text-gray-600"},[e._v("Max download width 1920px")])]):e._e(),"video"!=e.type&&e.preview&&e.images&&e.index>0?i("icon",{staticClass:"text-5xl rounded-full p-1 m-2 center-vertical left-0 z-highest",attrs:{name:"chevron_left"},on:{click:function(t){e.preview=null,e.$loading(!0),e.index>0?e.index--:e.index=0,e.preview=e.images.hits[e.index]}}}):e._e(),"video"!=e.type&&e.preview&&e.images&&e.index<19?i("icon",{staticClass:"text-5xl rounded-full p-1 m-2 center-vertical right-0 z-highest",attrs:{name:e.preview?"chevron_right":"menu"},on:{click:function(t){e.preview=null,e.$loading(!0),e.index<20?e.index++:e.index=0,e.preview=e.images.hits[e.index]}}}):e._e()],1)]):e._e()],1):e._e()},n=[],s=i("1da1"),r=(i("96cf"),i("ac1f"),i("1276"),i("841c"),i("b0c0"),i("bc3a")),o=i.n(r),l={name:"WhoobePixabayPlugin",data:function(){return{search:"",images:null,page:0,preview:null,index:null,type:"all",pixabayUser:null,apikey:null,options:[{label:"All",value:"all"},{label:"Photo",value:"photo"},{label:"Illustration",value:"illustration"},{label:"Vector",value:"vector"},{label:"Video",value:"video"}]}},computed:{filename:function(){return this.preview.hasOwnProperty("previewURL")?this.preview.previewURL.split("/")[this.preview.previewURL.split("/").length-1]:"video"}},watch:{search:function(e){e&&e.length>2&&(0===this.page&&(this.page=1),this.pixabayQry(e))},preview:function(e){e&&this.$loading()},type:function(e){this.page=1,this.pixabayQry(this.search)},pixabayUser:function(e){this.pixabayQry()}},methods:{setOption:function(e){this.type=e},pixabayQry:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var a,n,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:t.$loading(!0),a=t.pixabayUser?"&user="+t.pixabayUser:"",n="video"===t.type?"":"&image_type="+t.type,s="video"===t.type?"videos":"",o.a.get("https://pixabay.com/api/"+s+"?key="+t.$attrs.apikey+"&q="+e+a+n+"&page="+t.page).then((function(e){e.data&&(t.images=e.data),t.$loading()})).catch((function(e){t.$loading(),t.$message("Request error")}));case 5:case"end":return i.stop()}}),i)})))()},downloadImage:function(){this.preview.name?this.uploadImage():this.preview.name="whoobe-"+this.$randomID()},uploadImage:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$loading(!0),e.$api.service("upload/file").create({name:e.preview.name,url:e.preview.largeImageURL}).then((function(t){e.$loading(),e.preview=!1,e.$message("Media uploaded!"),e.$emit("uploaded")}));case 2:case"end":return t.stop()}}),t)})))()}},mounted:function(){}},c=l,p=i("2877"),d=Object(p["a"])(c,a,n,!1,null,null,null);t["default"]=d.exports},"841c":function(e,t,i){"use strict";var a=i("d784"),n=i("825a"),s=i("1d80"),r=i("129f"),o=i("14c3");a("search",1,(function(e,t,i){return[function(t){var i=s(this),a=void 0==t?void 0:t[e];return void 0!==a?a.call(t,i):new RegExp(t)[e](String(i))},function(e){var a=i(t,e,this);if(a.done)return a.value;var s=n(e),l=String(this),c=s.lastIndex;r(c,0)||(s.lastIndex=0);var p=o(s,l);return r(s.lastIndex,c)||(s.lastIndex=c),null===p?-1:p.index}]}))}}]);