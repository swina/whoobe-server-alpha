(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e5cbecf"],{4384:function(e,t,r){"use strict";r.r(t);var c=function(){var e=this,t=e.$createElement,c=e._self._c||t;return e.currentArticle?c("div",{staticClass:"bg-white"},[c("div",{staticClass:"bg-gray-800"},[c("button",{on:{click:e.saveArticle}},[e._v("Save")]),c("button",{on:{click:function(t){return e.$emit("close")}}},[e._v("Import WP")]),c("button",{on:{click:function(t){return e.$emit("close")}}},[e._v("Export")]),c("button",{on:{click:function(t){return e.preview()}}},[e._v("Preview")]),c("button",{on:{click:function(t){return e.$emit("close")}}},[e._v("Create New")]),c("icon",{staticClass:"absolute right-0 mr-2 text-3xl text-gray-300",attrs:{name:"close"},on:{click:function(t){return e.$emit("close")}}})],1),c("transition",{attrs:{name:"fade"}},[e.currentArticle?c("div",{staticClass:"flex flex-row  p-1"},[e.currentArticle?c("section",{staticClass:"w-4/5 container relative text-sm"},[c("label",[e._v("Title "),c("span",{staticClass:"text-gray-400"},[e._v("#"+e._s(e.currentArticle.id))])]),c("input",{directives:[{name:"model",rawName:"v-model",value:e.currentArticle.title,expression:"currentArticle.title"}],staticClass:"w-full text-2xl",attrs:{type:"text"},domProps:{value:e.currentArticle.title},on:{change:function(t){e.currentArticle.slug=e.$slugify(e.currentArticle.title)},input:function(t){t.target.composing||e.$set(e.currentArticle,"title",t.target.value)}}}),c("label",[e._v("Slug ")]),c("input",{directives:[{name:"model",rawName:"v-model",value:e.currentArticle.slug,expression:"currentArticle.slug"}],staticClass:"w-full text-2xl",attrs:{type:"text"},domProps:{value:e.currentArticle.slug},on:{blur:function(t){return e.$slugify(e.currentArticle.title)},input:function(t){t.target.composing||e.$set(e.currentArticle,"slug",t.target.value)}}}),c("label",[e._v("Excerpt")]),c("textarea",{directives:[{name:"model",rawName:"v-model",value:e.currentArticle.excerpt,expression:"currentArticle.excerpt"}],staticClass:"text-sm w-full",domProps:{value:e.currentArticle.excerpt},on:{input:function(t){t.target.composing||e.$set(e.currentArticle,"excerpt",t.target.value)}}}),c("label",[e._v("Content")]),c("block-text-editor",{attrs:{size:"h-4/5",embeded:!0},model:{value:e.currentArticle.content,callback:function(t){e.$set(e.currentArticle,"content",t)},expression:"currentArticle.content"}})],1):e._e(),e.currentArticle?c("div",{staticClass:"w-1/5 ml-4 shadow text-sm bg-gray-200"},[c("input",{directives:[{name:"model",rawName:"v-model",value:e.currentArticle.publish,expression:"currentArticle.publish"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.currentArticle.publish)?e._i(e.currentArticle.publish,null)>-1:e.currentArticle.publish},on:{change:function(t){var r=e.currentArticle.publish,c=t.target,i=!!c.checked;if(Array.isArray(r)){var l=null,n=e._i(r,l);c.checked?n<0&&e.$set(e.currentArticle,"publish",r.concat([l])):n>-1&&e.$set(e.currentArticle,"publish",r.slice(0,n).concat(r.slice(n+1)))}else e.$set(e.currentArticle,"publish",i)}}}),e._v(" Publish "),e.currentArticle.blocks?c("div",{staticClass:"flex flex-col"},[c("div",{staticClass:"bg-gray-500 text-white p-1"},[e._v("Template")]),c("div",{staticClass:"mb-2 flex flex-col items-center bg-white border"},[e.currentArticle.blocks?c("span",{staticClass:"text-xs"},[e._v(" "+e._s(e.currentArticle.blocks.name)+" ")]):e._e(),e.currentArticle.template_preview?c("img",{staticClass:"w-48 h-32 object-cover object-top cursor-pointer",attrs:{src:this.$imageURL(e.currentArticle.template_preview)},on:{click:function(t){return e.$action("whoobe_templates")}}}):c("img",{staticClass:"h-24 object-contain",attrs:{src:r("bd21")}}),c("button",{staticClass:"sm mb-2",on:{click:function(t){e.selectTemplate=!e.selectTemplate}}},[e._v("Page / Template")])]),c("div",{staticClass:"mb-2 flex flex-col"},[c("div",{staticClass:"bg-gray-500 text-white mt-2 p-1"},[e._v("Category")]),c("select",{directives:[{name:"model",rawName:"v-model",value:e.currentArticle.categories,expression:"currentArticle.categories"}],staticClass:"w-full",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.currentArticle,"categories",t.target.multiple?r:r[0])}}},e._l(e.datastore.dataset.setup[0].categories.articles,(function(t,r){return c("option",{domProps:{value:t.name}},[e._v(" "+e._s(t.name)+" ")])})),0)])]):e._e(),c("div",[c("div",{staticClass:"bg-gray-500 text-white mt-2 p-1"},[e._v("Homepage")]),c("input",{directives:[{name:"model",rawName:"v-model",value:e.currentArticle.homepage,expression:"currentArticle.homepage"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.currentArticle.homepage)?e._i(e.currentArticle.homepage,null)>-1:e.currentArticle.homepage},on:{change:function(t){var r=e.currentArticle.homepage,c=t.target,i=!!c.checked;if(Array.isArray(r)){var l=null,n=e._i(r,l);c.checked?n<0&&e.$set(e.currentArticle,"homepage",r.concat([l])):n>-1&&e.$set(e.currentArticle,"homepage",r.slice(0,n).concat(r.slice(n+1)))}else e.$set(e.currentArticle,"homepage",i)}}}),e._v(" Homepage ")]),c("div",{staticClass:"bg-gray-500 text-white mt-2 p-1"},[e._v("Featured image")]),c("div",{staticClass:"flex flex-col mb-2 h-32 items-center"},[e.currentArticle.image?c("div",{staticClass:"bg-gray-700 h-32 w-full flex p-1 justify-center"},[e.currentArticle.image?c("img",{staticClass:"h-24 object-cover",attrs:{src:e.$imageURL(e.currentArticle.image),title:e.currentArticle.image.name},on:{click:function(t){return e.$action("media")}}}):e._e()]):e._e(),c("button",{staticClass:"mt-1",on:{click:function(t){return e.$action("media")}}},[e._v("Select Media")])]),c("div",{staticClass:"bg-gray-500 text-white mt-2 p-1"},[e._v("SEO")]),c("div",{staticClass:"flex flex-col bg-gray-100 p-1 border"},[c("label",[e._v("Title")]),c("input",{directives:[{name:"model",rawName:"v-model",value:e.currentArticle.seo_title,expression:"currentArticle.seo_title"}],attrs:{type:"text"},domProps:{value:e.currentArticle.seo_title},on:{input:function(t){t.target.composing||e.$set(e.currentArticle,"seo_title",t.target.value)}}}),c("label",[e._v("Description")]),c("textarea",{directives:[{name:"model",rawName:"v-model",value:e.currentArticle.seo_description,expression:"currentArticle.seo_description"}],staticClass:"text-sm w-full",domProps:{value:e.currentArticle.seo_description},on:{input:function(t){t.target.composing||e.$set(e.currentArticle,"seo_description",t.target.value)}}})]),c("div",{staticClass:"bg-gray-500 text-white mt-2 p-1"},[e._v("Tags")]),c("textarea",{directives:[{name:"model",rawName:"v-model",value:e.currentArticle.tags,expression:"currentArticle.tags"}],staticClass:"h-16 w-full text-xs",domProps:{value:e.currentArticle.tags},on:{input:function(t){t.target.composing||e.$set(e.currentArticle,"tags",t.target.value)}}}),c("div",{staticClass:"text-xs text-gray-600"},[e._v("Set a tag per line")])]):e._e()]):e._e()]),c("transition",{attrs:{name:"fade"}},[e.selectTemplate?c("modal",{attrs:{size:"lg",position:"modal",buttons:"none"},on:{close:function(t){e.selectTemplate=!e.selectTemplate}}},[c("div",{attrs:{slot:"title"},slot:"title"},[e._v("Select template/block")]),c("div",{attrs:{slot:"content"},slot:"content"},[c("block-templates",{attrs:{article:e.currentArticle},on:{set:e.setTemplate,close:function(t){e.selectTemplate=!e.selectTemplate}}})],1)]):e._e()],1)],1):e._e()},i=[],l=(r("d3b7"),r("3ca3"),r("ddb0"),{name:"ArticleEdit",components:{"block-text-editor":function(){return r.e("chunk-8153bee2").then(r.bind(null,"88a9"))},"block-templates":function(){return r.e("chunk-2d229c16").then(r.bind(null,"df97"))}},data:function(){return{currentArticle:null,selectTemplate:!1}},computed:{datastore:function(){return this.$mapState().datastore}},methods:{saveArticle:function(){var e=this;!this.currentArticle.slug&&(this.currentArticle.slug=this.$slugify(this.currentArticle.title)),this.$api.service("articles").patch(this.currentArticle._id,this.currentArticle).then((function(t){e.$message("Article updated!")}))},preview:function(){window.localStorage.setItem("whoobe-article",JSON.stringify(this.currentArticle)),window.localStorage.setItem("whoobe-preview",JSON.stringify(this.currentArticle.blocks.json));var e=this.$router.resolve({path:"/preview"}),t=window.open(e.href,"whoobe","width="+window.screen.availWidth);t.focus()},setTemplate:function(e){console.log(e)}},mounted:function(){this.currentArticle=this.$attrs.article,!this.currentArticle.hasOwnProperty("content")&&(this.currentArticle.content="")}}),n=l,s=r("2877"),a=Object(s["a"])(n,c,i,!1,null,null,null);t["default"]=a.exports},bd21:function(e,t,r){e.exports=r.p+"img/no-image.7c2534d3.png"}}]);