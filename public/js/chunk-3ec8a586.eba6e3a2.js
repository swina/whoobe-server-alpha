(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ec8a586","chunk-2d0ceb8c"],{6150:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"z-top border bg-white flex-grow slide-container h-full",attrs:{data:e.getSlider}},[o("transition",{attrs:{name:"fade"}},[e.sliderTools&&!e.$attrs.slide?o("div",{staticClass:"bg-gray-200 p-1 sticky top-0 flex flex-row items-center"},[e._v(" SLIDER "),o("i",{staticClass:"material-icons mx-2",attrs:{title:"Slider settings"},on:{click:function(t){e.$store.dispatch("setCurrent",e.doc),e.$action("slidersettings")}}},[e._v("settings")]),o("button",{staticClass:"success",on:{click:function(t){e.editor.saveAsReusable=e.doc,e.$action("saveasreusable")}}},[e._v("Save")]),o("button",{staticClass:"danger",on:{click:function(t){return e.$emit("remove")}}},[e._v("Remove")])]):e._e()]),e.sliderTools?o("div",[o("label",{staticClass:"text-sm"},[e._v("Slide title ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.doc.blocks[e.slideIndex].name,expression:"doc.blocks[slideIndex].name"}],staticClass:"my-1",attrs:{type:"text"},domProps:{value:e.doc.blocks[e.slideIndex].name},on:{input:function(t){t.target.composing||e.$set(e.doc.blocks[e.slideIndex],"name",t.target.value)}}})]):e._e(),o("div",{staticClass:"flex flex-row items-center"},[o("div",{staticClass:"items-center bg-yellow-500 text-sm border rounded-tr rounded-tl px-2"},[e._v("Slider "),o("i",{staticClass:"material-icons",on:{click:function(t){e.sliderTools=!e.sliderTools}}},[e._v("build_circle")])]),o("draggable",{staticClass:"flex flex-row text-sm",attrs:{list:e.doc.blocks}},e._l(e.doc.blocks,(function(t,n){return o("div",{class:"w-auto px-2 h-6 border justify-center items-center flex flex-col rounded-tr rounded-tl "+e.slideSelected(n),on:{click:function(o){e.slideDelete=!1,e.currentSlide=t,e.slideIndex=n,e.$store.dispatch("setCurrent",t),e.$store.dispatch("selected",t.id)}}},[e._v(" "+e._s("Slide "+(n+1))+" ")])})),0)],1),o("div",{class:e.doc.css+" absolute border-2 border-dashed p-4 text-black ",style:e.stile(e.doc,!0)+" "+e.background(e.doc),attrs:{id:"content"}},[e._l(e.doc.blocks,(function(t,n){return[e.slideIndex===n?o("block-container",{key:t.id,attrs:{doc:t,component:e.doc,level:"0",index:"0",slide:!0,top:!0,pos:[0,0],coords:[0,0],zi:"1"}}):e._e()]}))],2)],1)},i=[],c=o("5530"),r=o("b76a"),s=o.n(r),d=o("2f62"),l={name:"MokaEditorSlides",components:{draggable:s.a},props:["doc"],data:function(){return{sliderTools:!1,currentSlide:0,slideDelete:!1,slideIndex:0}},computed:Object(c["a"])(Object(c["a"])({},Object(d["b"])(["editor"])),{},{getSlider:function(){return this.doc.hasOwnProperty("slider")&&(this.currentSlide=this.doc.blocks[0]),!0}}),methods:{addSlide:function(){this.doc.blocks.push(this.$grid(1))},slideSelected:function(e){return e===this.slideIndex?"bg-blue-400 text-white":""},stile:function(){},classe:function(e){},background:function(e){},openEditor:function(){}}},a=l,u=o("2877"),p=Object(u["a"])(a,n,i,!1,null,null,null);t["default"]=p.exports},a8ac:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"w-full h-auto top-0 left-0 relative",attrs:{data:"init"}},["element"==e.$attrs.category||e.doc.hasOwnProperty("slider")?o("div",{staticClass:"relative shadow-inner border-inset border-2 border-dashed border-purple-300 p-10 text-black",class:e.docCss+" ",style:e.stile(e.doc,!0)+" "+e.background(e.doc),attrs:{id:"content",title:"block component"}},[e.doc&&e.doc.hasOwnProperty("slider")?o("block-editor-slides",{key:e.doc.id,attrs:{doc:e.doc,component:e.doc}}):e._e()],1):o("div",{on:{contextmenu:e.showContext}},[o("div",{staticClass:"relative p-0 text-black",class:e.docCss+" ",style:e.stile(e.doc,!0)+" "+e.background(e.doc),attrs:{id:"content",title:"block component"}},[e._l(e.doc.blocks,(function(t,n){return[t&&!t.hasOwnProperty("slider")&&"slides"!=t.type?o("block-container",{key:t.id,attrs:{doc:t,component:e.doc,level:n,index:n,slide:!1,top:!0,pos:[0,n],coords:[0,n],zi:n+1},on:{selected:e.selected}}):e._e(),t&&"slides"===t.type?o("block-slides",{key:t.id,attrs:{doc:t,component:e.doc,level:n,index:n,slide:!1,top:!0,pos:[0,n],coords:[0,n],zi:n+1},on:{selected:e.selected}}):e._e(),t&&t.hasOwnProperty("slider")?o("div",{staticClass:"border p-1"},[o("div",{staticClass:"p-2 bg-gray-300"},[e._v("SLIDER "),o("button",{staticClass:"danger",on:{click:function(o){return e.removeSlider(t)}}},[e._v("Remove")])]),o("moka-editor-selectors",{attrs:{doc:t,component:e.current,develop:!0,category:"slider",root:!0}})],1):e._e()]})),e.doc.id!=e.editor.selected?o("div",{staticClass:"absolute top-0 right-0 -mr-2 -mt-8",on:{click:function(t){return e.selectDoc(e.doc)}}},[o("icon",{staticClass:"text-3xl",class:e.doc.id===e.editor.selected?"text-purple-500":"text-gray-500",attrs:{name:"select_all",title:"Select block component"}})],1):e._e()],2)]),o("block-status-bar",{attrs:{component:e.component}}),o("div",{ref:"contextMenu",staticClass:"editor-context-menu z-highest",staticStyle:{left:"-1000px"},attrs:{id:"contextMenu"},on:{mouseleave:e.hideContextMenu,click:e.hideContextMenu}},[o("context-menu",{key:e.$randomID(),attrs:{current:e.current,id:e.$randomID()},on:{delete:function(t){e.confirmModal=!e.confirmModal},click:e.hideContextMenu}})],1),o("transition",{attrs:{name:"fade"}},[e.confirmModal||"delete"===e.editor.action?o("modal",{attrs:{fixed:!0,size:"sm",position:"modal",close:!0},on:{close:function(t){e.confirm=!1,e.confirmModal=!1,e.$action()},click_0:function(t){e.confirm=!1,e.confirmModal=!1,e.$action()},click_1:function(t){e.confirm=!0,e.confirmModal=!e.confirmModal,e.removeElement()}}},[o("div",{attrs:{slot:"title"},slot:"title"},[e._v("Delete object")]),o("div",{staticClass:"p-4",attrs:{slot:"content"},slot:"content"},[e._v(" Remove the selected object? ")])]):e._e()],1)],1)},i=[],c=o("5530"),r=(o("d3b7"),o("3ca3"),o("ddb0"),o("159b"),o("a434"),o("6150")),s=o("2f62"),d=o("52cd"),l=o.n(d),a={name:"BlockSelectors",data:function(){return{customizerID:0,confirm:!1,confirmModal:!1,current:null,toolbar:!1,customize:!1,editContent:!1,fullscreen:!1,editCSS:!1,animations:!1,media:!1,breakpoint:"md",tree:!1,copiedCSS:"",currentSlide:null,slideIndex:0,slideDelete:!1,help:!1,position:{x:null,y:null}}},components:{"block-container":function(){return Promise.resolve().then(o.bind(null,"a68f"))},"block-slides":function(){return o.e("chunk-2d0c0db4").then(o.bind(null,"4420"))},"block-status-bar":function(){return o.e("chunk-2d0f02ae").then(o.bind(null,"9ae5"))},BlockEditorSlides:r["default"]},props:["doc","component"],computed:Object(c["a"])(Object(c["a"])({},Object(s["b"])(["editor"])),{},{init:function(){return this.current=this.editor.current,!0},docCss:function(){return this.doc.id===this.editor.selected?"border-4 border-dotted border-purple-500":"border border-purple-300"},gsapAnimations:function(){return gsapEffects},coords:function(){return this.current.coords}}),watch:{component:function(e){return null}},methods:{active:function(e){return this.editor.current&&this.editor.current.id===e?"border-orange-500":"border-transparent"},selectDoc:function(e,t){this.$store.dispatch("setCurrent",e),this.$store.dispatch("selected",e.id),this.$action()},selected:function(e){},stile:function(e,t){if(e){var o="";return e.hasOwnProperty("fontFamily")&&(o+='font-family:"'+e.fontFamily+'"; '),o+=e.hasOwnProperty("style")?e.style:"",o}},background:function(e){if(e)return e.hasOwnProperty("image")&&e.image&&e.image.url?e.image.previewUrl?" background-image:url("+e.image.previewUrl+");background-size:cover;background-repeat:no-repeat;":" background-image:url("+e.image.url+");":""},removeElement:function(){this.$emit("delete"),this.$action(),this.confirmModal=!1},removeSlider:function(e){this.$store.dispatch("setCurrent",e),this.$store.dispatch("selected",e.id),this.removeElement()},openPreview:function(){window.localStorage.setItem("whoobe-preview",JSON.stringify(this.doc)),window.localStorage.setItem("whoobe-component",JSON.stringify(this.editor.component));var e,t=this.$router.resolve({path:"/preview"});e=window.localStorage.getItem("whoobe-preview-mode")?window.localStorage.getItem("whoobe-preview-mode"):window.screen.availWidth,console.log(window.screen.availWidth);var o=window.open(t.href,"whoobe","width="+e);o.focus()},hideContextMenu:function(){this.$refs.contextMenu&&(this.$refs.contextMenu.style.opacity=0,this.$refs.contextMenu.style.left="-1000px")},showContext:function(e){e.preventDefault(),this.$refs.contextMenu.style.opacity=1,e.clientX<window.innerWidth-300?this.$refs.contextMenu.style.left=e.clientX-20+"px":e.clientX<200?this.$refs.contextMenu.style.left="20px":this.$refs.contextMenu.style.left=e.clientX-300-20+"px";var t=e.clientY+this.$refs.contextMenu.getBoundingClientRect().y;t>window.innerHeight?this.$refs.contextMenu.style.top=window.pageYOffset+window.innerHeight-this.$refs.contextMenu.clientHeight-100+"px":e.clientY<250?this.$refs.contextMenu.style.top=window.pageYOffset?window.pageYOffset+50+"px":"50px":this.$refs.contextMenu.style.top=window.pageYOffset+e.clientY-200+"px"},duplicateElement:function(){var e=this.current;delete e.parent;var t,o=l.a.parent(this.component.json,'$..blocks[?(@.id=="'+e.id+'")]');if(o){o.forEach((function(o,n){o.id===e.id&&(t=n)}));var n=JSON.parse(JSON.stringify(e)),i=this.$clone(n);o.splice(t+1,0,i),this.$message("Element duplicated")}}},mounted:function(){var e=this,t=this;window.addEventListener("keydown",(function(o){o.altKey&&"KeyB"===o.code&&e.$action("in_editor_preview"),o.altKey&&"KeyN"===o.code&&t.openPreview(),o.altKey&&"KeyL"===o.code&&window.CustomEvent&&document.getElementById(e.$mapState().editor.current.id).dispatchEvent(new CustomEvent("contextmenu")),o.altKey&&"KeyZ"===o.code&&e.editor.current&&(e.$action(),e.$action("customize")),o.altKey&&"KeyW"===o.code&&e.editor.current&&(e.$action(),e.$action("block_edit"),e.$emit("edit",e.current)),o.altKey&&"KeyA"===o.code&&e.editor.current&&e.$action("animation"),o.altKey&&"KeyG"===o.code&&e.editor.current&&(e.editor.current.css.hasOwnProperty("css")?e.copiedCSS=e.editor.current.css.css:e.copiedCSS=e.editor.current.css),o.altKey&&"KeyH"===o.code&&e.editor.current&&e.copiedCSS&&(e.editor.current.css.hasOwnProperty("css")?e.editor.current.css.css=e.copiedCSS:e.editor.current.css=e.copiedCSS),o.altKey&&"KeyC"===o.code&&e.editor.current&&(e.$message("Element copied"),e.$emit("copy",e.editor.current)),o.altKey&&"KeyX"===o.code&&e.editor.current&&(e.$emit("copy",e.editor.current),e.$emit("delete")),o.altKey&&"KeyV"===o.code&&e.editor.current&&e.$emit("paste"),o.altKey&&"KeyD"===o.code&&e.editor.current&&(e.$mapState().editor.component=e.component,e.$emit("duplicate",e.component,e.$mapState().editor.current)),o.altKey&&"KeyQ"===o.code&&e.editor.current&&"flex"===e.editor.current.type&&e.$action("addcomponent"),o.altKey&&"KeyO"===o.code&&e.editor.current&&e.$action("snapshot"),o.altKey&&"KeyR"===o.code&&e.editor.current&&(e.$action("delete"),e.confirmModal=!e.confirmModal),o.altKey&&"KeyT"===o.code&&e.$action("tree"),o.altKey&&"KeyI"===o.code&&e.$action("block_add_element"),o.altKey&&"KeyU"===o.code&&e.$action("addreusable"),o.altKey&&"KeyS"===o.code&&e.$action("savecomponent")}))}},u=a,p=o("2877"),m=Object(p["a"])(u,n,i,!1,null,null,null);t["default"]=m.exports}}]);