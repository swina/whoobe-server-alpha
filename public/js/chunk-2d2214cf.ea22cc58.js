(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2214cf"],{ca83:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"flex flex-col p-4"},[e.loaded?o("div",[e.isLibrary?o("div",{staticClass:"flex flex-col"},[o("p",[e._v("You are importing a library "),o("br"),e._v(" Blocks : "+e._s(e.json.length)+" ")]),o("div",{staticClass:"flex flex-row items-center"},[o("select",{directives:[{name:"model",rawName:"v-model",value:e.blockIndex,expression:"blockIndex"}],staticClass:"text-black",attrs:{size:"10"},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.blockIndex=t.target.multiple?o:o[0]}}},e._l(e.json,(function(t,n){return o("option",{domProps:{value:n}},[e._v(" "+e._s(t.category)+" - "+e._s(t.name)+" ")])})),0),o("button",{on:{click:function(t){return e.json.splice(e.blockIndex,1)}}},[e._v("Remove")])]),o("button",{staticClass:"warning",on:{click:e.importLibrary}},[e._v("Import Library")]),e.loadedComponent?o("div",[e._v(e._s(e.loadedComponent))]):e._e()]):o("div",{staticClass:"flex flex-col p-2"},[e.json.image_uri?o("img",{staticClass:"w-full h-2/5 border mb-2 m-auto object-cover object-top",attrs:{src:e.json.image_uri}}):e._e(),o("label",[e._v("Name*")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.json.name,expression:"json.name"}],staticClass:"w-full",attrs:{type:"text"},domProps:{value:e.json.name},on:{input:function(t){t.target.composing||e.$set(e.json,"name",t.target.value)}}}),o("label",[e._v("Category")]),o("select",{directives:[{name:"model",rawName:"v-model",value:e.json.category,expression:"json.category"}],staticClass:"w-full text-black",on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.json,"category",t.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"element"}},[e._v("element")]),o("option",{attrs:{value:"component"}},[e._v("component")]),o("option",{attrs:{value:"widget"}},[e._v("widget")]),o("option",{attrs:{value:"template"}},[e._v("template")]),o("option",{attrs:{value:"page"}},[e._v("page")]),o("option",{attrs:{value:"slider"}},[e._v("slider")]),o("option",{attrs:{value:"gallery"}},[e._v("gallery")])]),o("label",[e._v("Description")]),o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.json.description,expression:"json.description"}],staticClass:"w-full",domProps:{value:e.json.description},on:{input:function(t){t.target.composing||e.$set(e.json,"description",t.target.value)}}}),e._v(" "),o("button",{staticClass:"mt-2 success",on:{click:e.saveImported}},[e._v("Save")])])]):e._e(),e.loaded?e._e():o("div",{staticClass:"flex text-white relative text-center p-2"},[o("input",{staticClass:"absolute top-0 left-0 right-0 bottom-0 opacity-0",attrs:{type:"file"},on:{change:e.loadTextFromFile}}),o("button",{staticClass:"w-full warning"},[e._v("Select File")])])])},s=[],a=(o("d81d"),o("159b"),o("b0c0"),{data:function(){return{files:[],json:null,loaded:!1,loadedComponent:"",blockIndex:null}},computed:{isLibrary:function(){return!!(this.json&&this.json.length>1)}},methods:{loadTextFromFile:function(e){var t=this,o=e.target.files[0],n=new FileReader;n.onload=function(e){t.json=e.target.result,t.json=JSON.parse(t.json),t.json.map((function(e,o){"string"===typeof e&&(e=JSON.parse(e)),t.json[o]=e})),1===t.json.length&&(t.json=t.json[0]),t.loaded=!0},n.readAsText(o)},saveImported:function(e){var t=this,o=this.json;delete o._id,delete o.id,this.$api.service("components").create(o).then((function(e){return console.log(e),t.$find("components"),t.$message("Component uploaded successfully"),t.$emit("imported"),!0}))},importLibrary:function(){var e=this,t=1;console.log(this.json),this.json.forEach((function(o){delete o.id,delete o._id,e.$api.service("components").create(o).then((function(n){t++,e.loadedComponent=o.name,t>=e.json.length&&(e.$message("Blocks uploaded successfully"),e.$emit("imported"),e.loadedComponent="Blocks loaded successfully !")})).catch((function(t){console.log(t),e.$message("An error occured. Check your console log")}))}))}}}),l=a,i=o("2877"),r=Object(i["a"])(l,n,s,!1,null,null,null);t["default"]=r.exports}}]);